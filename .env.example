# =============================================================================
# Auth System Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=5000
HOST=0.0.0.0
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# MongoDB Atlas connection string
# Format: mongodb+srv://username:password@cluster.mongodb.net/database?options
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority&appName=BackEndSystem

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# Secret key for JWT token signing (use a strong, random string)
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_random

# -----------------------------------------------------------------------------
# Google OAuth Configuration
# -----------------------------------------------------------------------------
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=https://api.elano.cloud/api/auth/google/callback

# -----------------------------------------------------------------------------
# Cloudinary Configuration (File Storage)
# -----------------------------------------------------------------------------
# Get credentials from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# -----------------------------------------------------------------------------
# Mailgun Configuration (Email Service)
# -----------------------------------------------------------------------------
# Get credentials from: https://app.mailgun.com/
MAILGUN_API_KEY=your_mailgun_api_key
MAILGUN_DOMAIN=sandbox123456.mailgun.org

# -----------------------------------------------------------------------------
# Resend Configuration (Email Service)
# -----------------------------------------------------------------------------
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_YourResendApiKey
FROM_EMAIL=your-email@example.com
QUOUTE_FROM_EMAIL=Received Quotation <service@example.com>

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# NOTE: API Gateway handles rate limiting centrally in production
# These settings are for development/testing only
TRUSTED_IPS=127.0.0.1,10.0.0.1
RATE_LIMIT_WINDOW_MS=900000          # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100          # Max requests per window
SENSITIVE_OP_WINDOW_MS=3600000       # 1 hour in milliseconds
SENSITIVE_OP_MAX_REQUESTS=50         # Max sensitive operations per window

# -----------------------------------------------------------------------------
# Paystack Configuration (Payment Processing)
# -----------------------------------------------------------------------------
# Get credentials from: https://dashboard.paystack.com/#/settings/developer
PAYSTACK_SECRET_KEY=sk_test_your_secret_key
PAYSTACK_PUBLIC_KEY=pk_test_your_public_key
FRONTEND_URL=https://elano.cloud
WEBHOOK_URL=https://api.elano.cloud/api/payments/webhook/paystack

# -----------------------------------------------------------------------------
# Subscription Plans
# -----------------------------------------------------------------------------
DEFAULT_FREE_PLAN_ID=default_free_plan

# -----------------------------------------------------------------------------
# OpenWeather API (Weather Service)
# -----------------------------------------------------------------------------
# Get API key from: https://openweathermap.org/api
OPENWEATHER_API_KEY=your_openweather_api_key

# -----------------------------------------------------------------------------
# Gemini AI Configuration
# -----------------------------------------------------------------------------
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key

# -----------------------------------------------------------------------------
# Service URLs (Inter-service Communication)
# -----------------------------------------------------------------------------
AUTH_SERVICE_URL=http://localhost:5000
GOVERNANCE_SERVICE_URL=http://localhost:5004
ORG_REGISTRATION_SERVICE_URL=http://localhost:5003

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# Production Deployment Notes
# =============================================================================
# 
# 1. SECURITY:
#    - Never use default/example values in production
#    - Use strong, randomly generated secrets
#    - Rotate secrets regularly
#    - Use Kubernetes Secrets or a secrets management system
#
# 2. MONGODB:
#    - Use MongoDB Atlas for managed database
#    - Enable authentication and encryption
#    - Whitelist only necessary IP addresses
#    - Use connection pooling
#
# 3. EMAIL SERVICES:
#    - Configure both Mailgun and Resend for redundancy
#    - Set up proper SPF, DKIM, and DMARC records
#    - Monitor email delivery rates
#
# 4. PAYMENT PROCESSING:
#    - Use live keys only in production
#    - Test webhooks thoroughly before going live
#    - Monitor transaction logs
#    - Implement proper error handling
#
# 5. RATE LIMITING:
#    - Configure at API Gateway level in production
#    - Adjust limits based on usage patterns
#    - Monitor for abuse
#
# 6. MONITORING:
#    - Enable Prometheus metrics
#    - Set up alerts for critical errors
#    - Monitor resource usage
#    - Track response times
#
# =============================================================================
